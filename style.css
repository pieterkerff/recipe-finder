/* --- Enhanced Modern Styles --- */

@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Lora:ital,wght@0,400;0,500;1,400&display=swap');

/* --- Variables --- */
:root {
    --footer-height: 61px; /* Adjust if footer changes */
    --bg-color: #f7f7f7;
    --text-color: #333333;
    --primary-accent: #4A7C59;
    --secondary-accent: #e9e9e9;
    --card-bg: #ffffff;
    --border-color: #dcdcdc;
    --link-color: #5A8A69;
    --shadow-color: rgba(51, 51, 51, 0.1);
    --sidebar-width: 340px;
    --font-body: 'Poppins', sans-serif;
    --font-headings: 'Poppins', sans-serif;
    --font-alt: 'Lora', serif;
    --transition-speed: 0.3s;
    --transition-ease: cubic-bezier(0.25, 0.1, 0.25, 1);
    --focus-ring-color: rgba(74, 124, 89, 0.3); /* Accessibility: Consistent focus ring color */
}

/* --- General Reset & Body --- */
* { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; height: 100%; }
body {
    font-family: var(--font-body); background-color: var(--bg-color); color: var(--text-color); line-height: 1.6; margin: 0; font-weight: 400; position: relative; overflow-x: hidden;
    padding-bottom: var(--footer-height);
    transition: margin-right var(--transition-speed) var(--transition-ease);
    -webkit-tap-highlight-color: transparent;
}
body.sidebar-open-overlay { overflow-y: hidden; }

/* Wrapper for main page content */
.main-content {
    padding: 30px 40px; z-index: 1; position: relative;
    transition: margin-right var(--transition-speed) var(--transition-ease);
}
body.sidebar-open-push .main-content { margin-right: var(--sidebar-width); }

/* --- Background Decorative Shapes --- */
.background-shape { /* ... keep as before ... */ }
/* ... other shape styles ... */
@keyframes subtleMove { /* ... keep as before ... */ }

/* --- Typography --- */
h1, h2, h3, h4, h5, h6 { /* ... keep as before ... */ }
h1 { /* ... keep as before ... */ }
h2 { /* ... keep as before ... */ }
h3 { /* ... keep as before ... */ }
p { /* ... keep as before ... */ }
a { /* ... keep as before ... */ }
a:hover, a:focus-visible { /* Accessibility: Added focus-visible */ color: var(--primary-accent); text-decoration: underline; text-decoration-thickness: 1.5px; outline: none; /* Remove default outline if custom focus is added */ }
ul, ol { /* ... keep as before ... */ }
li { /* ... keep as before ... */ }

/* --- Introduction Text --- */
.intro-text { /* ... keep as before ... */ }
.intro-text p:last-child { /* ... keep as before ... */ }

/* --- Layout Containers --- */
.search-container { /* ... keep as before ... */ }
.results-container { /* ... keep as before ... */ }
.recipe-detail-container { /* ... keep as before ... */ }

/* --- Forms & Inputs (General) --- */
.input-with-clear { /* ... keep as before ... */ }
input[type="text"], input[type="number"], select { /* ... keep as before ... */ }
input[type="text"], input[type="number"] { /* ... keep as before ... */ }
#searchInput { /* ... keep as before ... */ }
select { /* ... keep as before ... */ }
::placeholder { /* ... keep as before ... */ }
input:focus-visible, /* Accessibility: Use focus-visible */
select:focus-visible { outline: none; border-color: var(--primary-accent); box-shadow: 0 0 0 3px var(--focus-ring-color); }
label { /* ... keep as before ... */ }

.clear-input-btn { /* ... keep as before ... */ }
.clear-input-btn:hover, .clear-input-btn:focus { /* ... keep as before ... */ }
.clear-input-btn[hidden] { /* ... keep as before ... */ }

/* Search Input Specific */
#searchInput { /* ... keep as before ... */ }

/* Button Style Reset */
button { /* ... keep as before ... */ }
button:focus-visible { /* Accessibility: Consistent focus ring for all buttons */
    outline: none;
    box-shadow: 0 0 0 3px var(--focus-ring-color);
}

#searchButton { /* ... keep as before ... */ }
#searchButton::before { /* ... keep as before ... */ }
#searchButton:hover { /* ... keep as before ... */ }
#searchButton:active { /* ... keep as before ... */ }

/* --- Quick Filters --- */
.quick-filters { /* ... keep as before ... */ }
.quick-filter-tag { /* ... keep as before ... */ }
.quick-filter-tag:hover { /* ... keep as before ... */ }
.quick-filter-tag.active { /* ... keep as before ... */ }

/* --- Sort Options --- */
.sort-options-container { /* ... keep as before ... */ }
.sort-options-container label { /* ... keep as before ... */ }
.sort-options-container select { /* ... keep as before ... */ }

/* --- Filter Sidebar Styles --- */
.filter-button { /* ... keep as before ... */ }
.filter-button:hover { /* ... keep as before ... */ }
/* Focus visible already handled by general button rule */
.filter-icon { /* ... keep as before ... */ }
.filter-count-badge { /* ... keep as before ... */ }
.filter-button.filter-applied-pulse { /* ... keep as before ... */ }
@keyframes pulse { /* ... keep as before ... */ }

.overlay { /* ... keep as before ... */ }
.overlay[hidden] { /* ... keep as before ... */ }
body.sidebar-open-overlay .overlay { /* ... keep as before ... */ }

.filter-sidebar { /* ... keep as before ... */ }
.filter-sidebar[hidden] { /* ... keep as before ... */ }
body.sidebar-open-overlay .filter-sidebar, body.sidebar-open-push .filter-sidebar { /* ... keep as before ... */ }

.sidebar-header { /* ... keep as before ... */ }
.sidebar-header h2 { /* ... keep as before ... */ }
.close-button { /* ... keep as before ... */ }
.close-button:hover { /* ... keep as before ... */ }
/* Focus visible already handled */
.sidebar-content { /* ... keep as before ... */ }
.filter-group { /* ... keep as before ... */ }
.filter-group:last-child { /* ... keep as before ... */ }
.ingredient-filters, .select-filters { /* ... keep as before ... */ }
@media (min-width: 300px) { .ingredient-filters, .select-filters { /* ... keep as before ... */ } }

.filter-item { /* ... keep as before ... */ }
.autocomplete-suggestions { /* ... keep as before ... */ }
.autocomplete-suggestions ul { /* ... keep as before ... */ }
.autocomplete-suggestions li { /* ... keep as before ... */ }
.autocomplete-suggestions li:last-child { /* ... keep as before ... */ }
.autocomplete-suggestions li:hover,
.autocomplete-suggestions li:focus-visible { /* Accessibility: Focus style */ background-color: var(--secondary-accent); outline: none;}

.intolerances-section .group-label { /* ... keep as before ... */ }
/* Changed from label to legend */
.intolerances-section legend.group-label { /* ... keep existing label styles ... */ }
.intolerance-group { /* ... keep as before ... */ }
.intolerance-group label { /* ... keep as before ... */ }
.intolerance-group label span { /* ... keep as before ... */ }
.intolerance-group label:hover { /* ... keep as before ... */ }
.intolerance-group input[type="checkbox"] { /* ... keep as before ... */ }
.intolerance-group label:has(input[type="checkbox"]:checked) { /* ... keep as before ... */ }
/* Accessibility: Add focus style to intolerance labels */
.intolerance-group label:focus-within {
    outline: none;
    box-shadow: 0 0 0 3px var(--focus-ring-color);
}


.sidebar-footer { /* ... keep as before ... */ }
.sidebar-footer button { /* ... keep as before ... */ }
/* Focus visible already handled */
.button-primary { /* ... keep as before ... */ }
.button-primary:hover { /* ... keep as before ... */ }
.button-secondary { /* ... keep as before ... */ }
.button-secondary:hover { /* ... keep as before ... */ }

/* --- Recipe Cards --- */
.recipe-card { /* ... keep as before ... */ }
@keyframes fadeIn { /* ... keep as before ... */ }
.recipe-card:hover { /* ... keep as before ... */ }
.recipe-card a { /* ... keep as before ... */ }
.recipe-card a:hover { /* ... keep as before ... */ }
/* Accessibility: Add focus state for card links */
.recipe-card a:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px var(--focus-ring-color) inset; /* Inset shadow looks good on cards */
}

.recipe-card img { /* ... keep as before ... */ }
.recipe-card:hover img { /* ... keep as before ... */ }
.card-content { /* ... keep as before ... */ }
.recipe-card h3 { /* ... keep as before ... */ }
.recipe-card a:hover h3 { /* ... keep as before ... */ }
.card-meta { /* ... keep as before ... */ }
.card-meta-item { /* ... keep as before ... */ }
.card-meta-item span { /* ... keep as before ... */ }
.card-dietary-icons { /* ... keep as before ... */ }
.diet-icon { /* ... keep as before ... */ }
.diet-icon.veg { /* ... keep as before ... */ }
.diet-icon.vegan { /* ... keep as before ... */ }
.diet-icon.gf { /* ... keep as before ... */ }

/* --- Placeholder, No Results & Error Messages --- */
#initial-placeholder, .no-results-message { /* ... keep as before ... */ }
#error-message { /* ... keep as before ... */ }

/* --- Skeleton Loader --- */
.skeleton-loader { /* ... keep as before ... */ }
.skeleton-card { /* ... keep as before ... */ }
.skeleton-img { /* ... keep as before ... */ }
.skeleton-text { /* ... keep as before ... */ }
.skeleton-text.short { /* ... keep as before ... */ }
@keyframes pulse-bg { /* ... keep as before ... */ }

/* --- Pagination Controls --- */
.pagination-controls { /* ... keep as before ... */ }
.pagination-controls button { /* ... keep as before ... */ }
.pagination-controls button:hover:not(:disabled) { /* ... keep as before ... */ }
.pagination-controls button:disabled { /* ... keep as before ... */ }
#page-info { /* ... keep as before ... */ }

/* --- Recipe Detail Page Specifics --- */
.detail-page-header { /* ... keep as before ... */ }
.detail-page-actions { /* NEW: Wrapper for buttons */
    display: flex;
    gap: 10px;
    flex-wrap: wrap; /* Allow wrapping if needed */
}
/* Make action buttons consistent */
.share-button,
.print-button {
    font-size: 0.9em !important;
    padding: 10px 15px !important;
    display: inline-flex; /* Align icon and text */
    align-items: center;
    gap: 6px;
}
.share-button span,
.print-button span {
    font-size: 1.2em; /* Slightly larger icon */
}

.recipe-detail-container h1 { /* ... keep as before ... */ }
.recipe-detail-container img { /* ... keep as before ... */ }
.recipe-meta { /* ... keep as before ... */ }
.recipe-meta span { /* ... keep as before ... */ }
#recipe-servings::before { /* ... keep as before ... */ }
#recipe-time::before { /* ... keep as before ... */ }
#recipe-source { /* ... keep as before ... */ }
#recipe-source[style*="inline-flex"]::before { /* ... keep as before ... */ }
.recipe-section { /* ... keep as before ... */ }
#recipe-summary { /* ... keep as before ... */ }
#recipe-summary h2 { /* ... keep as before ... */ }
.ingredient-checklist { /* ... keep as before ... */ }
.ingredient-checklist li { /* ... keep as before ... */ }
.ingredient-checklist li::before { /* ... keep as before ... */ }
.ingredient-checklist li.checked { /* ... keep as before ... */ }
.ingredient-checklist li.checked::before { /* ... keep as before ... */ }
/* Accessibility: Focus style for checklist items */
.ingredient-checklist li:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px var(--focus-ring-color) inset;
    border-radius: 4px; /* Optional: radius for focus */
}

#recipe-instructions { /* ... keep as before ... */ }
#recipe-instructions li { /* ... keep as before ... */ }
#recipe-instructions li::before { /* ... keep as before ... */ }
#nutrition-details ul { /* ... keep as before ... */ }
#nutrition-details li { /* ... keep as before ... */ }
#nutrition-details li strong { /* ... keep as before ... */ }
.back-link { /* ... keep as before ... */ }
.back-link:hover { /* ... keep as before ... */ }
.back-link::before { /* ... keep as before ... */ }

/* --- Loading / Error / Messages --- */
#loading-message { /* ... keep as before ... */ }
#loading-message::before { /* ... keep as before ... */ }
#loading-message p { /* ... keep as before ... */ }
@keyframes spin { /* ... keep as before ... */ }

/* --- Site Footer (Fixed Position) --- */
.site-footer { /* ... keep as before ... */ }
.site-footer p { /* ... keep as before ... */ }

/* --- Scroll To Top Button --- */
.scroll-to-top-btn { /* ... keep as before ... */ }
.scroll-to-top-btn:hover { /* ... keep as before ... */ }
.scroll-to-top-btn[hidden] { /* ... keep as before ... */ }
.scroll-to-top-btn:not([hidden]) { /* ... keep as before ... */ }
.scroll-to-top-btn span { /* ... keep as before ... */ }

/* --- Status Message (for screen readers) --- */
.status-message {
    position: absolute;
    left: -10000px; /* Visually hidden */
    top: auto;
    width: 1px;
    height: 1px;
    overflow: hidden;
}

/* --- Print Styles --- */
@media print { /* ... Keep print styles as before ... */ }

/* --- Responsiveness --- */
@media (max-width: 992px) { /* ... Keep as before ... */ }
@media (max-width: 768px) { /* ... Keep as before ... */ }
@media (max-width: 600px) {
    /* ... Keep most rules ... */
    /* Adjust detail page action buttons layout */
    .detail-page-header {
        gap: 15px; /* Increase gap slightly */
    }
    .detail-page-actions {
        width: 100%; /* Make button group take full width */
        display: grid; /* Use grid for equal width buttons */
        grid-template-columns: 1fr 1fr;
        gap: 10px;
    }
    .back-link {
        width: auto; /* Allow back link to size naturally */
        margin-bottom: 0; /* Remove bottom margin */
        grid-column: 1 / -1; /* Span full width if needed */
        justify-self: start; /* Align left */
    }
    .share-button, .print-button {
        width: 100%; /* Ensure buttons fill grid columns */
        justify-content: center;
    }
     /* ... other mobile rules ... */
}
